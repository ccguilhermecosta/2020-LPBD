/* TRABALHO 01 DE LPBD - CRIAÇAO DAS TABELAS E INSERÇAO DOS DADOS*/
/*DEVELOPED BY GUILHERME COSTA*/

/*DROP DAS TABELAS*/

DROP TABLE CATEGORIA;
DROP TABLE MUSICA_AUTOR;
DROP TABLE AUTOR;
DROP TABLE FAIXA;
DROP TABLE MUSICA;
DROP TABLE CD;
DROP TABLE GRAVADORA;

/*01 - CRIAR O BANCO DE DADOS*/
/*TABELAS*/
CREATE TABLE GRAVADORA(
GRAV_ID INTEGER NOT NULL PRIMARY KEY,
GRAV_NOME VARCHAR(100) NOT NULL,
GRAV_CONTATO VARCHAR(20) NOT NULL,
GRAV_URL VARCHAR(50) NOT NULL
);

CREATE TABLE CD(
CD_ID INTEGER NOT NULL PRIMARY KEY,
CD_NOME VARCHAR(100) NOT NULL,
CD_PRECO DECIMAL(14,2) NOT NULL,
CD_DT_LANCAMENTO DATE NOT NULL,
CD_INDICADO INTEGER NOT NULL,
GRAV_ID INTEGER NOT NULL
);

CREATE TABLE MUSICA(
MUS_ID INTEGER NOT NULL PRIMARY KEY,
MUS_NOME VARCHAR(100) NOT NULL,
MUS_DURACAO DECIMAL(6,2)
);

CREATE TABLE FAIXA(
MUS_ID INTEGER NOT NULL,
CD_ID INTEGER NOT NULL,
FAI_NUMERO INTEGER
);

CREATE TABLE AUTOR(
AUT_ID INTEGER NOT NULL PRIMARY KEY,
AUT_NOME VARCHAR(20)
);

CREATE TABLE MUSICA_AUTOR(
MUS_ID INTEGER NOT NULL,
AUT_ID INTEGER NOT NULL
);

CREATE TABLE CATEGORIA(
CAT_ID INTEGER NOT NULL PRIMARY KEY,
CAT_MENOR_PRECO DECIMAL(14,2),
CAT_MAIOR_PRECO DECIMAL(14,2)
);

/*CHAVES SECUNDARIAS*/

ALTER TABLE CD
ADD CONSTRAINT FK_CD_GRAV_ID
    FOREIGN KEY(GRAV_ID)
    REFERENCES GRAVADORA(GRAV_ID);

ALTER TABLE FAIXA
ADD CONSTRAINT FK_FAIXA_MUS_ID
    FOREIGN KEY(MUS_ID)
    REFERENCES MUSICA(MUS_ID);
    
ALTER TABLE FAIXA
ADD CONSTRAINT FK_FAIXA_CD_ID
    FOREIGN KEY(CD_ID)
    REFERENCES CD(CD_ID);
    
ALTER TABLE MUSICA_AUTOR
ADD CONSTRAINT FK_MUSICA_MUS_ID
    FOREIGN KEY(MUS_ID)
    REFERENCES MUSICA(MUS_ID);
    
ALTER TABLE MUSICA_AUTOR
ADD CONSTRAINT FK_MUSICA_AUT_ID
    FOREIGN KEY(AUT_ID)
    REFERENCES AUTOR(AUT_ID);
    

/*INSERIR 10 REGISTROS EM CADA TABELA*/

/*GRAVADORA*/
INSERT INTO GRAVADORA (GRAV_ID, GRAV_NOME, GRAV_CONTATO, GRAV_URL) VALUES(1, 'CEIA', '@ceiaent', 'www.instagram.com/ceiaent/');
INSERT INTO GRAVADORA (GRAV_ID, GRAV_NOME, GRAV_CONTATO, GRAV_URL) VALUES(2, 'SONY MUSIC ENTERTAINMENT', '@sonymusicbrasil', 'www.instagram.com/sonymusicbrasil/');
INSERT INTO GRAVADORA (GRAV_ID, GRAV_NOME, GRAV_CONTATO, GRAV_URL) VALUES(3, 'INFAME COMPANY', '@infame', 'www.instagram.com/infame/');
INSERT INTO GRAVADORA (GRAV_ID, GRAV_NOME, GRAV_CONTATO, GRAV_URL) VALUES(4, 'WHITE MONKEY RECORDING', '@whitemonkeyrec', 'www.instagram.com/whitemonkeyrec/');
INSERT INTO GRAVADORA (GRAV_ID, GRAV_NOME, GRAV_CONTATO, GRAV_URL) VALUES(5, 'WARNER MUSIC BRASIL', '@warnermusicbr', 'www.instagram.com/warnermusicbr/');
INSERT INTO GRAVADORA (GRAV_ID, GRAV_NOME, GRAV_CONTATO, GRAV_URL) VALUES(6, 'AB RECORDS', '@artistbookrecords', 'www.instagram.com/artistbookrecords/');
INSERT INTO GRAVADORA (GRAV_ID, GRAV_NOME, GRAV_CONTATO, GRAV_URL) VALUES(7, 'SANTI MUSIC', '@_santimusic_', 'www.instagram.com/_santimusic_/');
INSERT INTO GRAVADORA (GRAV_ID, GRAV_NOME, GRAV_CONTATO, GRAV_URL) VALUES(8, 'UNIVERSAL MUSIC', '@umusicbrasil', 'www.instagram.com/umusicbrasil/');
INSERT INTO GRAVADORA (GRAV_ID, GRAV_NOME, GRAV_CONTATO, GRAV_URL) VALUES(9, 'GR6', '@gr6explodeoficial', 'www.instagram.com/gr6explodeoficial/');
INSERT INTO GRAVADORA (GRAV_ID, GRAV_NOME, GRAV_CONTATO, GRAV_URL) VALUES(10, 'KONDZILLA', '@kondzilla', 'www.instagram.com/kondzilla/');

/*MUSICA*/
INSERT INTO MUSICA (MUS_ID, MUS_NOME, MUS_DURACAO) VALUES(11, 'O CARA DE OCULOS', 4.10);
INSERT INTO MUSICA (MUS_ID, MUS_NOME, MUS_DURACAO) VALUES(12, 'OH JULIANA', 2.38);
INSERT INTO MUSICA (MUS_ID, MUS_NOME, MUS_DURACAO) VALUES(13, 'BLECAUTE', 4.23);
INSERT INTO MUSICA (MUS_ID, MUS_NOME, MUS_DURACAO) VALUES(14, 'PERGAMINHO', 2.51);
INSERT INTO MUSICA (MUS_ID, MUS_NOME, MUS_DURACAO) VALUES(15, 'ALELUIA', 3.59);
INSERT INTO MUSICA (MUS_ID, MUS_NOME, MUS_DURACAO) VALUES(16, 'PESADAO', 3.35);
INSERT INTO MUSICA (MUS_ID, MUS_NOME, MUS_DURACAO) VALUES(17, 'DINERO', 3.13);
INSERT INTO MUSICA (MUS_ID, MUS_NOME, MUS_DURACAO) VALUES(18, 'WASH US IN THE BLOOD', 3.42);
INSERT INTO MUSICA (MUS_ID, MUS_NOME, MUS_DURACAO) VALUES(19, 'TROVAO AZUL', 2.42);
INSERT INTO MUSICA (MUS_ID, MUS_NOME, MUS_DURACAO) VALUES(20, 'MOTOLOKA', 3.58);

/*AUTOR*/
INSERT INTO AUTOR (AUT_ID, AUT_NOME) VALUES (31, 'DJONGA');
INSERT INTO AUTOR (AUT_ID, AUT_NOME) VALUES (32, 'MC NIACK');
INSERT INTO AUTOR (AUT_ID, AUT_NOME) VALUES (33, 'JOTA QUEST');
INSERT INTO AUTOR (AUT_ID, AUT_NOME) VALUES (34, 'SIDOKA');
INSERT INTO AUTOR (AUT_ID, AUT_NOME) VALUES (35, 'KAYODE');
INSERT INTO AUTOR (AUT_ID, AUT_NOME) VALUES (36, 'IZA');
INSERT INTO AUTOR (AUT_ID, AUT_NOME) VALUES (37, 'JE SANTIAGO');
INSERT INTO AUTOR (AUT_ID, AUT_NOME) VALUES (38, 'KANNYE WEST');
INSERT INTO AUTOR (AUT_ID, AUT_NOME) VALUES (39, 'MC HARIEL');
INSERT INTO AUTOR (AUT_ID, AUT_NOME) VALUES (40, 'MC LIPI');

/*MUSICA_AUTOR*/
INSERT INTO MUSICA_AUTOR (MUS_ID, AUT_ID) VALUES (11, 31);
INSERT INTO MUSICA_AUTOR (MUS_ID, AUT_ID) VALUES (12, 32);
INSERT INTO MUSICA_AUTOR (MUS_ID, AUT_ID) VALUES (13, 33);
INSERT INTO MUSICA_AUTOR (MUS_ID, AUT_ID) VALUES (14, 34);
INSERT INTO MUSICA_AUTOR (MUS_ID, AUT_ID) VALUES (15, 35);
INSERT INTO MUSICA_AUTOR (MUS_ID, AUT_ID) VALUES (16, 36);
INSERT INTO MUSICA_AUTOR (MUS_ID, AUT_ID) VALUES (17, 37);
INSERT INTO MUSICA_AUTOR (MUS_ID, AUT_ID) VALUES (18, 38);
INSERT INTO MUSICA_AUTOR (MUS_ID, AUT_ID) VALUES (19, 39);
INSERT INTO MUSICA_AUTOR (MUS_ID, AUT_ID) VALUES (20, 40);

/*CD*/
INSERT INTO CD (CD_ID, CD_NOME, CD_PRECO, CD_DT_LANCAMENTO, CD_INDICADO, GRAV_ID) VALUES(41, 'HISTORIAS DA MINHA AREA', 21.43, TO_DATE('16/03/2020'), 1, 1); 
INSERT INTO CD (CD_ID, CD_NOME, CD_PRECO, CD_DT_LANCAMENTO, CD_INDICADO, GRAV_ID) VALUES(42, 'SET MC NIACK', 33.33, TO_DATE('14/05/2019'), 0, 2);
INSERT INTO CD (CD_ID, CD_NOME, CD_PRECO, CD_DT_LANCAMENTO, CD_INDICADO, GRAV_ID) VALUES(43, 'A SUA MANEIRA', 10.00, TO_DATE('24/06/2004'), 1, 3);
INSERT INTO CD (CD_ID, CD_NOME, CD_PRECO, CD_DT_LANCAMENTO, CD_INDICADO, GRAV_ID) VALUES(44, 'DOKA LANGUAGE', 37.78, TO_DATE('13/03/2018'), 1, 4);
INSERT INTO CD (CD_ID, CD_NOME, CD_PRECO, CD_DT_LANCAMENTO, CD_INDICADO, GRAV_ID) VALUES(45, 'I DONT KNOW', 23.70, TO_DATE('17/05/2019'), 0, 5);
INSERT INTO CD (CD_ID, CD_NOME, CD_PRECO, CD_DT_LANCAMENTO, CD_INDICADO, GRAV_ID) VALUES(46, 'DONA DE MIM', 15.76, TO_DATE('21/09/2018'), 0, 6);
INSERT INTO CD (CD_ID, CD_NOME, CD_PRECO, CD_DT_LANCAMENTO, CD_INDICADO, GRAV_ID) VALUES(47, 'O BAGULHO E TRAP', 70.54, TO_DATE('10/01/2020'), 1, 7);
INSERT INTO CD (CD_ID, CD_NOME, CD_PRECO, CD_DT_LANCAMENTO, CD_INDICADO, GRAV_ID) VALUES(48, 'YEEZUS', 43.78, TO_DATE('30/04/2008'), 0, 8);
INSERT INTO CD (CD_ID, CD_NOME, CD_PRECO, CD_DT_LANCAMENTO, CD_INDICADO, GRAV_ID) VALUES(49,'SET MC HARIEL', 4.31, TO_DATE('25/10/2020'), 0, 9);
INSERT INTO CD (CD_ID, CD_NOME, CD_PRECO, CD_DT_LANCAMENTO, CD_INDICADO, GRAV_ID) VALUES(50,'SET MC LIPI', 9.43, TO_DATE('13/05/2020'), 0, 10);

/*FAIXA*/
INSERT INTO FAIXA (MUS_ID, CD_ID, FAI_NUMERO) VALUES(11, 41, 51);
INSERT INTO FAIXA (MUS_ID, CD_ID, FAI_NUMERO) VALUES(12, 41, 52);
INSERT INTO FAIXA (MUS_ID, CD_ID, FAI_NUMERO) VALUES(13, 41, 53);
INSERT INTO FAIXA (MUS_ID, CD_ID, FAI_NUMERO) VALUES(14, 41, 54);
INSERT INTO FAIXA (MUS_ID, CD_ID, FAI_NUMERO) VALUES(15, 41, 55);
INSERT INTO FAIXA (MUS_ID, CD_ID, FAI_NUMERO) VALUES(16, 41, 56);
INSERT INTO FAIXA (MUS_ID, CD_ID, FAI_NUMERO) VALUES(17, 41, 57);
INSERT INTO FAIXA (MUS_ID, CD_ID, FAI_NUMERO) VALUES(18, 41, 58);
INSERT INTO FAIXA (MUS_ID, CD_ID, FAI_NUMERO) VALUES(19, 41, 59);
INSERT INTO FAIXA (MUS_ID, CD_ID, FAI_NUMERO) VALUES(20, 41, 60);

/*CATEGORIA*/
INSERT INTO CATEGORIA (CAT_ID, CAT_MENOR_PRECO, CAT_MAIOR_PRECO) VALUES(61, (SELECT CD_PRECO FROM CD WHERE CD_ID = 41), (SELECT CD_PRECO FROM CD WHERE CD_ID = 42));
INSERT INTO CATEGORIA (CAT_ID, CAT_MENOR_PRECO, CAT_MAIOR_PRECO) VALUES(62, (SELECT CD_PRECO FROM CD WHERE CD_ID = 43), (SELECT CD_PRECO FROM CD WHERE CD_ID = 44));
INSERT INTO CATEGORIA (CAT_ID, CAT_MENOR_PRECO, CAT_MAIOR_PRECO) VALUES(63, (SELECT CD_PRECO FROM CD WHERE CD_ID = 45), (SELECT CD_PRECO FROM CD WHERE CD_ID = 46));
INSERT INTO CATEGORIA (CAT_ID, CAT_MENOR_PRECO, CAT_MAIOR_PRECO) VALUES(64, (SELECT CD_PRECO FROM CD WHERE CD_ID = 47), (SELECT CD_PRECO FROM CD WHERE CD_ID = 48));
INSERT INTO CATEGORIA (CAT_ID, CAT_MENOR_PRECO, CAT_MAIOR_PRECO) VALUES(65, (SELECT CD_PRECO FROM CD WHERE CD_ID = 49), (SELECT CD_PRECO FROM CD WHERE CD_ID = 50));


